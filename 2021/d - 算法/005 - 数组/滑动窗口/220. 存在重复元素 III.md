[[算法 - 滑动窗口]] 变体
[[算法 - 第一遍]]



根据题意，对于任意一个位置 i（假设其值为 u），我们其实是希望在下标范围为 `[max(0, i - k), i) `内找到值范围在 `[u - t, u + t]`的数。



```c++

class Solution {
public:
    bool containsNearbyAlmostDuplicate(vector<int>& nums, int k, int t) {
        set<long> s;
        for(int i = 0; i < nums.size(); ++i){
            auto it = s.lower_bound((long)nums[i]-t);
            if(it != s.end() && *it <= (long)nums[i] + t) return true;
            s.insert(nums[i]);
            if(i>=k) s.erase(nums[i-k]);
        }
        return false;
    }
};
```