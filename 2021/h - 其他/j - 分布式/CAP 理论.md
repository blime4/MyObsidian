在计算机科学理论，CAP理论（也称为 Brewer 定理）是由计算机科学家 Eric Brewer 在2000年提出的，其理论观点是，在分布式计算机系统中不可能同时提供以下全部三个保证：

-   一致性（Consistency):所有节点同一时间看到的是相同的数据。
    
-   可用性（Availability):不管是否成功，确保每一个请求都能接收到响应。
    
-   分区容错性（Partition tolerance):系统任意分区后，在网络故障时，仍能操作。

![[Pasted image 20211230173732.png]]


Gilbert认为这里所说的一致性（Consistency)其实就是数据库系统中提到的ACID的另一种表述:
+ 一个用户请求要么成功、要么失败，不能处于中间状态（Atomic);
+ 一旦一个事务完成，将来的所有事务都必须基于这个完成后的状态（Consistent);
+ 未完成的事务不会互相影响（Isolated);
+ 一旦一个事务完成，就是持久的（Durable）。

对于可用性（Availability）,指的是对于一个系统而言，所有的请求都应该"成功"并且收到"返回"。

分区容错性（Partition tolerance）指就是分布式系统的容错性。节点 crash 或者网络分片都不应该导致一个分布式系统停止服务。


CAP只能三选二，无法全部满足。


#### [[CAP 常见模型]]

### 分布式和集群的区别

简单来讲：

-   分布式：不同的多台服务器上面部署**不同的服务模块**（工程），他们之间通过RPC/RMI之间通信和调用，对外提供服务和组内协作。
    
-   集群：不同的多台服务器上面部署**相同的服务模块**，通过分布式调度软件进行统一的调度，对外提供服务和访问。