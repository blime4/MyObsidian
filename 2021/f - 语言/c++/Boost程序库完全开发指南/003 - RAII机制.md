# 003 - RAII 机制
---

为了管理内存等资源，C++程序员通常采用 RAII 机制（Resource Acquisition Is Initialization，资源获取即初始化），在类的构造函数里申请资源，然后使用资源，最终在析构函数中释放资源。

---

> 如果对象是用声明的方式在栈上创建的（一个局部对象），那么 RAII 机制会正常工作，当离开作用域时，该对象会自动销毁，从而调用析构函数释放资源。

---

> 但如果对象是用 new 操作符在堆上创建的，那么它的析构函数将无法自动调用，程序员必须明确地用对应的 delete 操作符销毁它，才能释放资源，这就存在着资源泄漏的隐患，因为这时没有任何对象对已经获取的资源负责，如果因某些意外导致程序未能执行 delete 语句，那么内存等资源就会永久丢失。

---


例子：
[[智能指针]]
[[unique_lock]]
[[lock_guard]]
[[lock()]]
[[unlock()]]