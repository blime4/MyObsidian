[[002 - TCP网络的本质]]

TCP网络编程最本质的是处理三个半事件：

1．==连接的建立==，包括服务端接受（accept）新连接和客户端成功发起（connect）连接。TCP连接一旦建立，客户端和服务端是平等的，可以各自收发数据。

2．==连接的断开==，包括主动断开（close、shutdown）和被动断开（read(2)返回0）。

3．==消息到达，文件描述符可读==。这是最为重要的一个事件，对它的处理方式决定了网络编程的风格（阻塞还是非阻塞，如何处理分包，应用层的缓冲如何设计，等等）。

3.5　==消息发送完毕==，这算半个。对于低流量的服务，可以不必关心这个事件；另外，这里的“发送完毕”是指将数据写入操作系统的缓冲区，将由TCP协议栈负责数据的发送与重传，不代表对方已经收到数据。


