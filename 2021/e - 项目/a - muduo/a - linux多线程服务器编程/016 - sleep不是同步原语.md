

[[线程等待]]可分为两种
+ 一种是等待资源可用（要么等在 [[select]] / [[poll]] / [[epoll_wait]] 上，要么等在[[条件变量]] 上）
+ 一种是等着进入[[临界区]]（等在 [[mutex]]上）


在程序的正常执行中，如果需要等待一段已知的时间，应该往event loop里注册一个timer，然后在timer的回调函数里接着干活，因为线程是个珍贵的共享资源，不能轻易浪费（阻塞也是浪费）。如果等待某个事件发生，那么应该采用条件变量或IO事件回调，不能用sleep来轮询。