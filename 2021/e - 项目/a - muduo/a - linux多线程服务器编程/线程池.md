[[threadpool]]

示例：使用阻塞队列实现的任务队列，线程池

```c++
typedef boost::funtion<void()> functor;
BlockingQueue<Functor> taskQueue; // 线程安全的阻塞队列

void workerThread(){
	while(running){
		Functor task = taskQueue.take(); // this blocks
		task(); 	// 在代码中需要考虑异常处理
	}
}
```
实现简单的线程池：
```c++
int N = num_of_computing_threads;
for(int i = 0; i< N ;++i){
create_thread(&workerThread);	// 伪代码，启动线程
}
```
使用：
```c++
Foo foo;   // foo里面有成员函数 calc
boost::function<void()> task = boost::bind(&Foo::calc,&foo);
taskQueue.post(task);
```


