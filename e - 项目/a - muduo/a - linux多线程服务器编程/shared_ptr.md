


Shared_ptr 是引用计数型智能指针，在 Boost 和 std :: tr1 里均提供，也被纳入 C++11 标准库，现代主流的 C++编译器都能很好地支持。shared_ptr<T>是一个类模板（class template），它只有一个类型参数，使用起来很方便。引用计数是自动化资源管理的常用手法，当引用计数降为 0 时，对象（资源）即被销毁。[[weak_ptr]] 也是一个引用计数型智能指针，但是它不增加对象的引用次数，即弱（weak）引用。
	
	
	
虽然我们借shared_ptr来实现线程安全的对象释放，但是shared_ptr本身不是100％线程安全的。它的引用计数本身是安全且无锁的，但对象的读写则不是，因为shared_ptr有两个数据成员，读写操作不能原子化。
 
shared_ptr 的线程安全级别和内建类型、标准库容器、std :: string 一样，即：
	+ 一个 shared_ptr 对象实体可被多个线程同时读取；
	+ 两个 shared_ptr 对象实体可以被两个线程同时写入，“析构”算写操作；
	+ 如果要从多个线程读写同一个 shared_ptr 对象，那么需要加锁。
	
	
	

