[[fork]] () 一般不能在多线程程序中调用,因为 Linux 的 fork () 只克隆当前线程的 [[thread of control]]，不克隆其他线程。Fork () 之后，除了当前线程之外，其他线程都消失了。也就是说不能一下子 fork () 出一个和父进程一样的多线程子进程。Linux 没有 [[forkall]] () 这样的系统调用，forkall () 其实也是很难办的（从语意上），因为其他线程可能等在 [[condition variable]] 上，可能阻塞在系统调用上，可能等着 mutex 以跨入临界区，还可能在密集的计算中，这些都不好全盘搬到子进程里。