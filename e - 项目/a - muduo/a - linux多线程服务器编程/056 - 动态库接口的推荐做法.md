# 056 - 动态库接口的推荐做法

---

取决于动态库的使用范围，有两类做法。

其一，如果动态库的使用范围比较窄，比如本团队内部的两三个程序在用，用户都是受控的，要发布新版本也比较容易协调，那么不用太费事，只要做好发布的 `版本管理` 就行了。再在可执行文件中使用 rpath 把库的完整路径确定下来。

---

其二，如果库的使用范围很广，用户很多，各家的 release cycle 不尽相同，那么推荐 [[pimpl]] 技法[CCS，条款 43] 

