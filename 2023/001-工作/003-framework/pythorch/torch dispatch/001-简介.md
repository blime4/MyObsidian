 [video](https://www.bilibili.com/video/BV1L3411d7SM/?spm_id_from=333.999.0.0&vd_source=e2ed568abb1e67cc88ad6275f6104534)

## 注册和分发
（常见架构）注册+分发 
（设计模式）[[注册器模式]]+[[工厂模式]]

大概：
	1. 将 if else 等分支，变成一个表
	2. 查表返回方法，然后调用。
	![[Pasted image 20230807132537.png]]
## [[Dispatch Key]]
![[Pasted image 20230807132617.png]]
![[Pasted image 20230807133124.png]]


## 算子注册
三种方式：
+ Impl
+ Def
+ Fallback

![[Pasted image 20230807133616.png]]
![[Pasted image 20230807133624.png]]

![[Pasted image 20230807133710.png]]
![[Pasted image 20230807133724.png]]
![[Pasted image 20230807133753.png]]
![[Pasted image 20230807133805.png]]
![[Pasted image 20230807133824.png]]