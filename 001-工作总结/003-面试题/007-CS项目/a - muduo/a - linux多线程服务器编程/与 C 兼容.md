“与 C 兼容”的含义很丰富，不仅仅是兼容 C 的语法 3，更重要的是兼容 C 语言的编译模型与运行模型，也就是说能直接使用 C 语言的头文件和库。

现代操作系统暴露出的原生接口往往是 C 语言描述的，Windows 的原生 API 接口是 `Windows.h` 头文件，POSIX 是一堆 C 语言头文件。C++兼容 C，==从而能在编译的时候直接使用这些头文件，并链接到相应的库上。并在运行的时候直接调用 C 语言的函数库，这省了一道中间层的手续，可算作是 C++高效的原因之一。==

## 妥协
C++至今（包括C++11）没有[[模块机制]]，不能像其他现代编程语言那样用import或using来引入当前源文件用到的库（含其他package/module里的函数或类），而必须用include头文件的方式来机械地将库的接口声明以文本替换的方式载入，再重新parse一遍。这么做一方面让编译效率奇低，编译器动辄要parse几万行预处理之后的源码，哪怕源文件只有几百行；另一方面，也留下了巨大的隐患。部分原因是头文件包含具有传递性，引入不必要的依赖；另一个原因是头文件是在编译时使用，动态库文件是在运行时使用，二者的时间差可能带来不匹配，导致[[052 - 二进制兼容性]]方面的问题（§11.2）。C++的设计者Bjarne Stroustrup自己很清楚这一点6，但这是在“与C兼容”的大前提下不得不做出的妥协。




